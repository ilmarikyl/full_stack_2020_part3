{"version":3,"sources":["components/PersonForm.js","components/Persons.js","components/Filter.js","services/persons.js","App.js","index.js"],"names":["PersonForm","newName","handleNameFieldChange","newNumber","handleNumberFieldChange","addPerson","onSubmit","value","onChange","type","Person","person","name","number","Persons","persons","filter","deletePerson","newPersons","concat","forEach","element","toLowerCase","includes","push","map","key","onClick","Filter","handleFilterFieldChange","baseUrl","axios","get","then","response","data","newObject","post","personObject","delURL","id","delete","put","Notification","notificationSuccessful","message","className","App","useState","setPersons","setNewName","setNewNumber","newFilter","setFilter","notificationMessage","setNotificationMessage","setNotificationSuccessful","useEffect","personService","initialPersons","event","target","preventDefault","find","p","changedPerson","window","confirm","returnedPerson","setTimeout","catch","error","delPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.40a5b265.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm = ({ newName, handleNameFieldChange, newNumber, handleNumberFieldChange, addPerson }) => {\r\n    return (\r\n      <form onSubmit={addPerson}>\r\n        <div>\r\n          name: <input value={newName} onChange={handleNameFieldChange} />\r\n        </div>\r\n        <div>\r\n          number: <input value={newNumber} onChange={handleNumberFieldChange} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n  }\r\n\r\n  export default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({ persons, filter, deletePerson }) => {\r\n\r\n  let newPersons = []\r\n  if (filter === '') {\r\n    newPersons = persons.concat()\r\n  }\r\n  else {\r\n    persons.forEach(element => {\r\n      if (element.name.toLowerCase().includes(filter.toLowerCase())){\r\n        newPersons.push(element)\r\n      }        \r\n    })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {newPersons.map(person =>\r\n      <p key={person.name}>\r\n        <Person\r\n          key={person.name}\r\n          person={person}\r\n          deletePerson={deletePerson}\r\n        />\r\n        { \" \" } <button onClick={() => deletePerson(person)}>delete</button> \r\n      </p>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nconst Person = ( {person} ) => {\r\n  return (\r\n    <>\r\n      {person.name} {person.number}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = ({ filter, handleFilterFieldChange }) => {\r\n    return (\r\n      <div>\r\n        filter shown with <input value={filter} onChange={handleFilterFieldChange} />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Filter","import axios from 'axios'\r\n// const baseUrl = 'http://localhost:3001/persons'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = personObject => {\r\n  const delURL = `${baseUrl}/${personObject.id}` \r\n  const request = axios.delete(delURL)\r\n  return request.then(response => response)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, remove, update }","import React, { useState, useEffect } from 'react'\r\nimport './index.css'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Filter from './components/Filter'\r\nimport personService from './services/persons'\r\n\r\n\r\nconst Notification = ({ notificationSuccessful, message }) => {\r\n  if (message === null) return null\r\n  if (notificationSuccessful === true) return <div className='notification-success'>{message}</div>\r\n\r\n  return <div className='notification-fail'>{message}</div>\r\n}\r\n\r\n\r\nconst App = () => {\r\n\r\n  const [ persons, setPersons ] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ newFilter, setFilter ] = useState('')\r\n  const [ notificationMessage, setNotificationMessage ] = useState(null)\r\n  const [ notificationSuccessful, setNotificationSuccessful ] = useState(true)\r\n\r\n  const hook = () => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }\r\n  \r\n  useEffect(hook, [])\r\n\r\n  const handleNameFieldChange = (event) => setNewName(event.target.value)\r\n  const handleNumberFieldChange = (event) => setNewNumber(event.target.value)\r\n  const handleFilterFieldChange = (event) => setFilter(event.target.value)\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    const names = persons.map(person => person.name)\r\n\r\n    if (names.includes(newName)) {\r\n      const person = persons.find(p => p.name === newName)\r\n      const changedPerson = { ...person, number: personObject.number }\r\n\r\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n        personService\r\n          .update(changedPerson.id, changedPerson)\r\n          .then(returnedPerson => {\r\n          setPersons(persons.map(person => person.id !== changedPerson.id ? person : returnedPerson))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          setNotificationMessage(`Updated the number of ${returnedPerson.name}`)\r\n          setNotificationSuccessful(true)\r\n          setTimeout(() => {\r\n            setNotificationMessage(null)\r\n          }, 3000)\r\n          })\r\n          .catch(error => {\r\n            setNotificationMessage(`Information of '${changedPerson.name}' has already been removed from server`)\r\n            setNotificationSuccessful(false)\r\n            setTimeout(() => {\r\n              setNotificationMessage(null)\r\n            }, 5000)\r\n            setPersons(persons.filter(person => person.name !== changedPerson.name))\r\n            setNewName('')\r\n            setNewNumber('')\r\n          })\r\n      }\r\n    }\r\n    \r\n    else {\r\n      personService\r\n        .create(personObject)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          setNotificationMessage(`Added ${returnedPerson.name}`)\r\n          setNotificationSuccessful(true)\r\n          setTimeout(() => {\r\n            setNotificationMessage(null)\r\n          }, 3000)\r\n        })\r\n    }   \r\n  }\r\n\r\n  const deletePerson = delPerson => {\r\n    if (window.confirm(`Delete ${delPerson.name} ?`)) {\r\n      personService\r\n        .remove(delPerson)\r\n        .then(response => {\r\n          setPersons(persons.filter(person => person.name !== delPerson.name))\r\n          setNotificationMessage(`Deleted ${delPerson.name}`)\r\n          setNotificationSuccessful(true)\r\n          setTimeout(() => {\r\n            setNotificationMessage(null)\r\n          }, 3000)\r\n        })\r\n        .catch(error => {\r\n          setNotificationMessage(`The number of '${delPerson.name}' was already removed from server`)\r\n          setNotificationSuccessful(false)\r\n          setTimeout(() => {\r\n            setNotificationMessage(null)\r\n          }, 5000)\r\n          setPersons(persons.filter(person => person.name !== delPerson.name))\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification notificationSuccessful={notificationSuccessful} message={notificationMessage} />\r\n      <Filter\r\n        filter={newFilter}\r\n        handleFilterFieldChange={handleFilterFieldChange}\r\n      />\r\n      <h2>Add a new</h2>\r\n      <PersonForm\r\n        newName={newName}\r\n        newNumber={newNumber}\r\n        handleNameFieldChange={handleNameFieldChange}\r\n        handleNumberFieldChange={handleNumberFieldChange}\r\n        addPerson={addPerson}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Persons\r\n        persons={persons}\r\n        filter={newFilter}\r\n        deletePerson={deletePerson}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}